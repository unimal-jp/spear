[README in English](./README.md)

# spear-cli

[![npm version](https://badge.fury.io/js/spear-cli.svg)](https://badge.fury.io/js/spear-cli)

`spear-cli` ã¯ Spearly å‘ã‘ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã™ (SSG) 

## åˆ©ç”¨æ–¹æ³•

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# If you use the npm.
$ npm install "@spearly/spear-cli" -g

# If you use the yarn.
$ yarn global add "@spearly/spear-cli"

# If you use the pnpm.
$ pnpm install "@spearly/spear-cli" -g
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

æœ€åˆã«ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

1. `spear create` : ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ãŒèµ·å‹•ã—ã¾ã™ã€‚

```bash
Namespace(port=undefined, action='create', projectName=undefined, src=undefined)
 ### Welcome to Spear CLI ###


? Name of your project (spear-cli) <Input your project name>ã€€â†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚
? Use Spearly CMS (Use arrow keys)
â¯ Yes      <- Choose 'yes' if you use the Spear content.      â†CMS ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯ã€ŒYesã€ã‚’é¸æŠ
  No
? Enter your Spearly CMS API KEY  <Input your Spearly API KEY> â† CMS ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯ Spearly ã® API ã‚­ãƒ¼ã‚’å…¥åŠ›
? Choose template type (Use arrow keys)                        â† ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã‚’é¸æŠã™ã‚‹
â¯ basic 
  empty 
? Generate Sitemap?                                            â† ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ç”Ÿæˆã™ã‚‹ã‹ã©ã†ã‹ã®é¸æŠ
â¯ Yes 
  No 
  ? Enter your hosting URL (Example: https://foobar.netlify.app/) () â† ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ç”Ÿæˆã™ã‚‹å ´åˆãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹URL



? Name of your project SampleProject
? Use Spearly CMS Yes
? Enter your Spearly CMS API KEY **********

  ## Your project was created ğŸ‰

  To start using, run the following command:
      cd SampleProject
      yarn install

  To start local server, run
      yarn dev

  To build static sources, run
      yarn build

```

ã“ã‚Œã§ `spear-cli` ã‚’ä½¿ã†æº–å‚™ã¯å®Œäº†ã—ã¾ã—ãŸ ğŸš€

### ãƒšãƒ¼ã‚¸ã®ç·¨é›†

è‡ªç”±ã«ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã§ãã¾ã™ã€‚`spear-cli` ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ãƒšãƒ¼ã‚¸ã®ä¸€éƒ¨ã®éƒ¨å“ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ä½œæˆã§ãã¾ã™ã€‚
  - `components` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
- ã‚¢ã‚»ãƒƒãƒˆ
  - ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€CSS ãªã©ã‚’ `assets` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã§ãã¾ã™ã€‚
  - ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¯ä»»æ„ã®ã‚‚ã®ã§æ§‹ã„ã¾ã›ã‚“ã€‚
- Spearly CMS ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒªã‚¹ãƒˆ
  - Spearly CMS ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒªã‚¹ãƒˆã‚’ãƒšãƒ¼ã‚¸å†…ã«æŒ¿å…¥ã§ãã¾ã™ã€‚
  - è¨˜è¿°æ–¹æ³•ã¯ã€Spearly CMS åŸ‹ã‚è¾¼ã¿ JavaScript ã¨åŒã˜ã§ã™ã€‚
  - `cms-loop` å±æ€§ã‚’è¦ç´ ã¸ä»˜ä¸ã™ã‚‹ã¨ã€ãã®è¦ç´ ã¯ãƒªã‚¹ãƒˆã¨ã—ã¦ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
- Spearly CMS ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
  - Spearly CMS ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒšãƒ¼ã‚¸å†…ã«æŒ¿å…¥ã§ãã¾ã™ã€‚
  - è¨˜è¿°æ–¹æ³•ã¯ã€Spearly CMS åŸ‹ã‚è¾¼ã¿ JavaScript ã¨åŒã˜ã§ã™ã€‚
  - `cms-item` å±æ€§ã‚’è¦ç´ ã¸ä»˜ä¸ã™ã‚‹ã¨ã€ãã®è¦ç´ ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
- é™çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã¯é™çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚

ãƒ©ã‚¤ãƒ–ãƒ¢ãƒ¼ãƒ‰ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚ãƒ©ã‚¤ãƒ–ãƒ¢ãƒ¼ãƒ‰ã‚’åŒ»ç™‚ã—ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ã¦ãã ã•ã„ã€‚

```bash
spear watch -s <project directory>
```

### é™çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

`spear-cli` ã¯ Spearly CMS ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ç”Ÿæˆã—ã¾ã™ã€‚ä»•æ§˜ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- ãƒ•ã‚¡ã‚¤ãƒ«åã¯ `/path/[alias].html` ã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚
  - ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ç”Ÿæˆã•ã‚Œã‚‹ã¨ã€`/path/<content-alias>.html` ã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚(ä¾‹ï¼šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒ `first-blog` ã®å ´åˆã¯ `/path/first-blog.html` ã¨ãªã‚Šã¾ã™)

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

`spear-cli` ã¯ä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚

- components : ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã® `components' ã§ã™ã€‚
  - ä»–ã®ãƒšãƒ¼ã‚¸ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸æŒ¿å…¥ã™ã‚‹ãŸã‚ã® spear ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä¿å­˜ã™ã‚‹å ´æ‰€ã§ã™ã€‚
  - spear-cli ã¯ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä¿è¨¼ã—ã¾ã™ã€‚(ä¾‹ï¼š /components/commonã€/components/cards)
  - spear-cli ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–DOMè¦ç´ ã¨åŒã˜åå‰ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æŒ‡å®šã™ã‚‹äº‹ã¯ã§ãã¾ã›ã‚“ã€‚(ä¾‹ï¼š`body` / `header` / `section`)
- assets / public : ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã® `assets` ã‚„ `public` ãªã©ã§ã™ã€‚
  - spear-cli ã§ã¯ä½•ã‚‚åŠ å·¥ã›ãšã«ãã®ã¾ã¾å‡ºåŠ›ã—ã¾ã™ã€‚
- ãã®ä»–ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  - spear-cli ã§ã¯ä½•ã‚‚åŠ å·¥ã›ãšã«ãã®ã¾ã¾å‡ºåŠ›ã—ã¾ã™ã€‚
  - html / spear / htm ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«å†…ã‚’è§£æã—ã¦ spear ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æŒ‡å®šãŒã‚ã‚Œã°æŒ¿å…¥ã—ã¾ã™ã€‚
  - ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã¯è§£æã›ãšãã®ã¾ã¾å‡ºåŠ›ã—ã¾ã™ã€‚

ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚µãƒ³ãƒ—ãƒ«:

```bash
â”œâ”€â”€ package.json
â”œâ”€â”€ spear.config.json
â””â”€â”€ src
    â”œâ”€â”€ assets
    â”‚Â Â  â”œâ”€â”€ css
    â”‚Â Â  â”‚Â Â  â””â”€â”€ main.css
    â”‚Â Â  â””â”€â”€ js
    â”‚Â Â      â””â”€â”€ main.js
    â”œâ”€â”€ blog
    â”‚Â Â  â”œâ”€â”€ index.html
    â”‚Â Â  â””â”€â”€ [alias].html
    â”œâ”€â”€ components
    â”‚Â Â  â”œâ”€â”€ header.spear
    â”‚Â Â  â””â”€â”€ main.spear
    â”œâ”€â”€ images
    â”‚Â Â  â””â”€â”€ logo.png
    â”œâ”€â”€ index.html
    â”œâ”€â”€ pages
    â”‚Â Â  â””â”€â”€ index.spear
    â””â”€â”€ public
        â””â”€â”€ favicon.ico
```

spear-cli ã®ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œå¾Œã¯è’¸æ°—ã‚µãƒ³ãƒ—ãƒ«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹æˆã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

```bash
â”œâ”€â”€ dist
â”‚Â Â  â”œâ”€â”€ assets
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ css
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ main.css
â”‚Â Â  â”‚Â Â  â””â”€â”€ js
â”‚Â Â  â”‚Â Â      â””â”€â”€ main.js
â”‚   â”œâ”€â”€ blog
â”‚   â”‚Â Â  â”œâ”€â”€ index.html
â”‚   â”‚Â Â  â”œâ”€â”€ first-blog.html
â”‚   â”‚Â Â  â”œâ”€â”€ second-blog.html
â”‚   â”‚Â Â  â”œâ”€â”€     :
â”‚   â”‚Â Â  â””â”€â”€ second-blog.html
â”‚Â Â  â”œâ”€â”€ images
â”‚Â Â  â”‚Â Â  â””â”€â”€ logo.png
â”‚Â Â  â”œâ”€â”€ pages
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.html
â”‚Â Â  â””â”€â”€ public
â”‚Â Â      â””â”€â”€ favicon.ico
â”œâ”€â”€ package.json
â”œâ”€â”€ spear.config.json
```

æ³¨æ„ï¼š

- `components/header.spear` ã¨ `components/main.spear` ã¯å„ãƒšãƒ¼ã‚¸ã«æŒ¿å…¥ã•ã‚Œã¾ã™ã€‚
- `pages/index.spear` ã¯ `pages/index.html` ã«ãƒªãƒãƒ¼ãƒ ã•ã‚Œã¾ã™.

### ãƒ“ãƒ«ãƒ‰

æœ€å¾Œã®ãƒ—ãƒ­ã‚»ã‚¹ã¨ã—ã¦ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ“ãƒ«ãƒ‰ã§ãã¾ã™ã€‚

```bash
$ spear build -s <project directory>
```

ã“ã‚Œã§ Spearly ãƒšãƒ¼ã‚¸ãŒãƒ“ãƒ«ãƒ‰ã§ãã¾ã—ãŸğŸš€ğŸš€ğŸš€

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

Spear ã®ãƒ“ãƒ«ãƒ‰ã¯ `spear.config.js` ã«å¾“ã£ã¦è¡Œã‚ã‚Œã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šå€¤ã‚’æŒã¡ã¾ã™ã€‚

```js
module.exports = {
  "spearlyAuthKey": string,     // ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã® Spearly API ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æŒ‡å®šã—ã¾ã™
  "projectName": string,        // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’æŒ‡å®šã—ã¾ã™
  "generateSitemap": boolean,   // ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ç”Ÿæˆã™ã‚‹ã‹ã‚’æŒ‡å®šã—ã¾ã™
  "siteURL": string,            // ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ç”Ÿæˆã™ã‚‹éš›ã®ãƒ™ãƒ¼ã‚¹URLã‚’æŒ‡å®šã—ã¾ã™(ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  "apiDomain": string,          // ãƒ•ã‚§ãƒƒãƒã™ã‚‹ API ã‚µãƒ¼ãƒãƒ¼ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æŒ‡å®šã—ã¾ã™(ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
};
```

## è²¢çŒ®

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸è²¢çŒ®ã™ã‚‹å ´åˆã¯ã€[CONTRIBUTING.md](../../CONTRIBUTING.md) ã‚’ã”è¦§ãã ã•ã„ï¼
å‚åŠ ã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™ï¼
